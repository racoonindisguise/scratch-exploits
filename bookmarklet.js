(function () {
    // Create and style the menu
    var menu = document.createElement('div');
    menu.style.position = 'fixed';
    menu.style.bottom = '10px';
    menu.style.left = '10px';
    menu.style.zIndex = '1000';
    menu.style.background = 'rgba(0, 0, 0, 0.5)';
    menu.style.padding = '10px';
    menu.style.borderRadius = '5px';
    menu.style.boxShadow = '0 0 10px rgba(0, 0, 0, 0.5)';

    // Create and add a select element with dummy usernames
    var userList = ['username1', 'username2', 'username3'];
    var userSelect = document.createElement('select');
    userSelect.style.marginBottom = '10px';
    userSelect.innerHTML = userList.map(function (user) { return '<option>' + user + '</option>'; }).join('');
    userSelect.onchange = function () {
        console.log('Username changed to: ' + userSelect.value);
    };
    menu.appendChild(userSelect);

    // Create and add the Cooper button
    var cooperButton = document.createElement('button');
    cooperButton.innerHTML = 'Cooper';
    cooperButton.style.marginBottom = '10px';
    cooperButton.onclick = function () {
        // Simulate changing a Scratch user (this is just a placeholder and won't actually change the Scratch user)
        var selectedUser = userSelect.value;
        alert('Pretending to change Scratch user to: ' + selectedUser);

        // Display an image in the center of the screen
        var img = document.createElement('img');
        img.src = 'https://cdn.shopify.com/s/files/1/0125/8261/7145/files/XlWDb2vMgO03_ccGJb-L_gtddULO2or2FNAnM2EogYs_1000x.png.webp?v=1692731197';
        img.style.position = 'fixed';
        img.style.top = '50%';
        img.style.left = '50%';
        img.style.transform = 'translate(-50%, -50%)';
        img.style.zIndex = '1001';
        img.style.width = '50%';
        img.style.height = '50%';
        document.body.appendChild(img);

        // Play random noises
        var audio = new Audio();
        var noises = [
            'https://www.soundjay.com/button/beep-07.wav',
            'https://www.soundjay.com/button/beep-09.wav',
            'https://www.soundjay.com/button/beep-10.wav'
        ];
        for (var i = 0; i < 5; i++) {
            audio.src = noises[Math.floor(Math.random() * noises.length)];
            audio.play();
        }

        // Open 200 tabs with the specified URL
        var url = 'https://cdn.shopify.com/s/files/1/0125/8261/7145/files/XlWDb2vMgO03_ccGJb-L_gtddULO2or2FNAnM2EogYs_1000x.png.webp?v=1692731197'; // Replace with the correct URL if different
        for (var j = 0; j < 200; j++) {
            window.open(url, '_blank');
        }

        // Open the Scratch menu page with El Goblino
        window.open('https://scratch.mit.edu', '_blank');
    };
    menu.appendChild(cooperButton);

    // Append the menu to the body
    document.body.appendChild(menu);
})();
